<HTML>
<HEAD>
<TITLE>WHDLoadCD32</TITLE>
<meta name="DC.Language" content="ca">
<meta http-equiv="content-language" content="ca">
<meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
<!-- $Id: cd32.html 1.4 2014/12/04 23:37:38 wepl Exp wepl $ -->
</HEAD>
<BODY>

<h3>WHDLoadCD32</h3>

WHDLoadCD32 és una versió especial de WHDLoad per a ésser utilitzada amb el CD³². La mateixa ha estat optimitzada per a aquest maquinari i per tant solament s'executarà en un CD³² 
estàndard no expandit. No s'executarà en un SX-32 o en qualsevol altra màquina. 

<p>Les diferències amb el WHDload normal són les següents :

<ul>
<li>No requereix ni utilitza l'arxiu de llicència de WHDLoad, per la qual cosa els CDRoms que contenen WHDLoadCD32 poden distribuir-se lliurement 

<li>Solament suporta la CPU 68020, això també implica que no hi ha suport de MMU 

<li>No suporta Memòria Fast

<li>No hi ha, en absolut, cap suport per a escriptura, enregistrament de partides en curs, puntuacions màximes o bolcats del sistema (coredumps). Un CD usualment és només de lectura. 

<li>Moltes opcions que no són útils en un CD&sup3;&sup2; han estat suprimides per a fer més petit l'executable i preservar memòria, vegi <a href="opt.html">Ús i
Opcions</a> per a conéixer quines són les opcions afectades.

<li>Les següents funcions resload no estan implementades i si s'intenten fer servir, WHDLoad finalitzarà amb el codi de retorn TDREASONILLEGALARGS: 

<ul>
<li><a href="../autodoc.html#resload_DiskLoadDev">resload_DiskLoadDev</a>
<li><a href="../autodoc.html#resload_ProtectRead">resload_ProtectRead</a>
<li><a href="../autodoc.html#resload_ProtectReadWrite">resload_ProtectReadWrite</a>
<li><a href="../autodoc.html#resload_ProtectWrite">resload_ProtectWrite</a>
<li><a href="../autodoc.html#resload_ProtectRemove">resload_ProtectRemove</a>
<li><a href="../autodoc.html#resload_ProtectSMC">resload_ProtectSMC</a>
<li><a href="../autodoc.html#resload_Log">resload_Log</a>
</ul>

<li>Les següents funcions resload són "falses", no faran gens però retornaran sempre un codi d'èxit: 

<ul>
<li><a href="../autodoc.html#resload_SaveFile">resload_SaveFile</a>
<li><a href="../autodoc.html#resload_SaveFileOffset">resload_SaveFileOffset</a>
<li><a href="../autodoc.html#resload_DeleteFile">resload_DeleteFile</a>
</ul>

<li>No hi ha cap suport per a <a href="freezer.html">congeladors (<i>freezers</i>) / monitors</a> al programa

<li>No hi ha cap comprovació interna per a veure si l'espai de pila és suficient com passa amb WHDLoad normal, a totes les meves proves el valor per defecte de 4096 octets ha estat suficient per a WHDLoadCD32. 

</ul>

<h3>Suggerències per a utilitzar WHDLoad en un CD&sup3;&sup2;</h3>

El problema principal en el CD&sup3;&sup2; és la quantitat limitada de memòria principal. Solament es disposa de 2 MB de Memòria Xip; per tant l'objectiu ha de ser obtenir tanta memòria 
lliure com sigui possible per a WHDLoad i especialment per a l'operació Preload. Asseguri's que no s'estiguin executant altres programes a l'hora d'iniciar un programa instal·lat usant 
WHDLoadCD32.

<ul>

<li>Si l'instal·lador dóna opció d'escollir entre imatges de disc i arxius, esculli arxius. Això és degut al fet que molts arxius petits poden emmagatzemar-se a caché millor que menys arxius grans. 

<li>Si un instal·lador proveeix la funcionalitat de comprimir arxius usant ProPack/FImp, utilitzi-la i comprimeixi tots els arxius (RNC1 dóna la millor compressió). 
Els arxius comprimits necessiten menys memòria per a Preload i no causen pràcticament cap demora en la velocitat de càrrega. 

<li>Usi AllocMemReverse (o un reemplaçament adequat) abans d'executar WHDLoadCD32 . AllocMemReverse és un petit programa inclòs en el paquet dev de WHDLoad. S'encarrega d'aplicar un <i>patch</i> a
 la funció exec AllocMem perquè sempre utilitzi l'atribut de memòria MEMREVERSE per a les assignacions. Això causarà que la memòria sigui assignada des de la part superior de la memòria 
 lliure cap a la part inferior i no des de la part inferior com és normal. Això mantindrà lliures les àrees de memòria baixa. El rerefons és que WHDLoad necessita memòria començant en l'adreça 0, 
 el començament de la Memòria Xip. Tota la memòria que s'utilitzi en aquesta regió baixa ha de ser intercanviada a un arxiu per això es necessita memòria addicional per a mantenir la RAM 
 recuperada. Mentre més memòria s'utilitzi a les regions baixes de memòria, menys hi haurà disponible per al programa instal·lat i per a pre-carregar arxius de dades. 

<li>Utilitzi sempre l'opció <a href="opt.html#Data">Data</a>. Preload no sap quins arxius seran carregats pel programa instal·lat, per tant carrega tots els arxius que troba. Per a evitar 
que es carreguin arxius innecessaris creï un directori contenint solament els arxius necessaris. Esborri tots els arxius obsolets tals com #?.info, #?.Slave, ReadMe, Manual, .... Després 
invoqui WHDLoad amb l'Esclau i el Directori de Dades com arguments, per exemple : 
<tt>WHDLoadCD32 :Slaves/XYZ.Slave Data=:Data/XYZ Preload</tt>.
No és necessari canviar el directori actual a altra ubicació. 

<li>No utilizi arxius de dades comprimits amb XPK. La compressió XPK necessita molta memòria atès que les llibreries XPK han de residir a memòria; la descompressió també necessita
 memòria i causarà fragmentació de la mateixa. 

</ul>
</BODY>
</HTML>
