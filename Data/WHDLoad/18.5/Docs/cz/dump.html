<HTML>
<HEAD>
<TITLE>Vıpisy a logy</TITLE>
<meta name="DC.Language" content="cz">
<meta http-equiv="content-language" content="cz">
<meta http-equiv="content-type" content="text/html; charset=windows-1250">
<!-- $Id: dump.html 1.5 2014/12/04 23:37:38 wepl Exp wepl $ -->
</HEAD>
<BODY>
<h3>Vıpisy pamìti a logy</h3>
WHDload umí ukládat pamì a produkovat rùzné logy, pøevánì pro odlaïovací úèely.
<h4><a name="memory">Vıpis pamìti (memory dump)</a></h4>
Memory dump je celá pamì pouívaná nainstalovanım programem a zapsaná v danı okamik
do souboru. Velikost souboru záleí na nainstalovaném programu (je stejná jako velikost
<a href="../autodoc.html#ws_BaseMemSize">ws_BaseMemSize</a> ve struktuøe slave). Memory dump bude vytvoøen, pokud je stlaèen
<a href="opt.html#DebugKey">DebugKey</a> nebo pokud je to poadováno pøi chybovém
hlášení. Jméno dump souboru je ".whdl_memory". Standartnì se ukládá do "PROGDIR:",
ale to se dá zmìnit volbou <a href="opt.html#CoreDumpPath">CoreDumpPath</a>.
Existující soubor se stejnım jménem bude vdycky pøepsán bez varování. Pokud nainstalovanı
program pouívá dodateènou pøídavnou RAM (<a href="../autodoc.html#ws_ExpMem">ws_ExpMem</a>),
je tato pamì uloena v dalším souboru ".whdl_expmem".
<h4><a name="register">Vıpis registru (register dump)</a></h4>
Vıpis registru obsahuje kompletní stav CPU, vèetnì MMU, CIA a custom chipu.
Nìkteré CIA a custom registr nejsou èitelné, take jsou obsazeny ve vıpisu
pouze pokud byl aktivní <a href="opt.html#Snoop">Snoop</a> mod. Informace
budou zapsány do ASCII souboru s pouitím highlight efektu (escape sekvence,
CSI - Control Sequence Introducer, decimální 155). K prohlíení jsou doporuèeny
programy, které escape sekvence podporují (tøeba More, MuchMore, Multiview,
...). Jméno vıpisového souboru je ".whdl_register". Standartnì se ukládá do "PROGDIR:",
ale to se mùe zmìnit volbou <a href="opt.html#CoreDumpPath">CoreDumpPath</a>.
Pokud u soubor existuje, bude novı vıpis pøipojen do nìj za pøedchozí vıpis.
<h4><a name="complete">Kompletní vıpis pamìti</a></h4> Kompletní vıpis pamìti
je IFF soubor obsahující obsah všech vıše uvedenıch souborù. Pøedpokládané
vyuití je zamıšleno v jinıch programech. Struktura souboru je popsaná v extra include souboru s názvem <tt>whddump.i</tt>.
V souèasné dobì soubor s kompletním vıpisem pamìti pouívají aplikace WHDLoadGCI (grafické rozhraní pro programátory) a  <a +href="sp.html">SP</a> (ukládání obrázkù). Jméno
souboru s kompletním vıpisem pamìti je ".whdl_dump". Standartnì je ukládán do "PROGDIR:",
ale to se mùe zmìnit volbou <a href="opt.html#CoreDumpPath">CoreDumpPath</a>. Soubor se stejnım jménem bude vdy pøepsán novìjším.
<h4><a name="FileLog">FileLog/S</a></h4>
Všechny pøístupy na disk budou logovány, pokud je aktivována volba <a href="opt.html#FileLog">FileLog</a>.
Tato volba mùe bıt uiteèná pro analızu diskovıch operací nainstalovaného programu,
pro odlaïování a optimalizaèní úèely. Zápis do logu vytvoøí tyto funkce:
<ul>
<li><a href="../autodoc.html#resload_DeleteFile">resload_DeleteFile</a>
<li><a href="../autodoc.html#resload_DiskLoad">resload_DiskLoad</a>
<li><a href="../autodoc.html#resload_Examine">resload_Examine</a>
<li><a href="../autodoc.html#resload_ExNext">resload_ExNext</a>
<li><a href="../autodoc.html#resload_GetFileSize">resload_GetFileSize</a>
<li><a href="../autodoc.html#resload_GetFileSizeDec">resload_GetFileSizeDec</a>
<li><a href="../autodoc.html#resload_ListFiles">resload_ListFiles</a>
<li><a href="../autodoc.html#resload_LoadFile">resload_LoadFile</a>
<li><a href="../autodoc.html#resload_LoadFileDecrunch">resload_LoadFileDecrunch</a>
<li><a href="../autodoc.html#resload_LoadFileOffset">resload_LoadFileOffset</a>
<li><a href="../autodoc.html#resload_SaveFile">resload_SaveFile</a>
<li><a href="../autodoc.html#resload_SaveFileOffset">resload_SaveFileOffset</a>
</ul>
Kadı pøístup k souboru pøes funkce, uvedené vıše, vytvoøí jednu øádku v logu.
Øádka identifikuje volanou funkci, CRC èteného/zapisovaného souboru, parametry a vısledek. WHDLoad vytváøí log
ve svém interním <a href="opt.html#LogBuffer">LogBuffer/K/N</a>, buffer bude zapsán pøi exitu z programu nebo pokud se
buffer pøeplní. Informace se zapíšou do ASCII souboru, jméno logu je
".whdl_log" (pøedtím to byl název ".whdl_filelog"). Standartnì se ukládá do cesty "PROGDIR:", dá se to ale zmìnit
pomocí volby <a href="opt.html#CoreDumppath">CoreDumpPath</a>. Pokud u existuje soubor
stejného jména, vıpis se bude pøidávat do nìj, jinak je vytvoøen úplnì novı soubor.
</BODY>
</HTML>
