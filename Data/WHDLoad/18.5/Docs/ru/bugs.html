<HTML>
<HEAD>
<TITLE>Ошибки</TITLE>
<meta name="DC.Language" content="ru">
<meta http-equiv="content-language" content="ru">
<meta http-equiv="content-type" content="text/html; charset=windows-1251">
<!-- $Id: bugs.html 1.14 2019/02/21 00:41:00 wepl Exp wepl $ -->
</HEAD>
<BODY>
<h3>Незвестные ошибки</h3>
Если вы обнаружите какие-то новые ошибки или у вас возникнут какие-то другие проблемы, пожалуйста сообщите об этом через багтрекер по адресу
<a href="http://mantis.whdload.de/search.php?project_id=4&hide_status_id=-2">
http://mantis.whdload.de</a>.
<h3>Известные ошибки</h3>
<h4>Основные проблемы</h4>
<ul>
  <li>Есть общая проблема со всем дополнительным оборудованием,
подключаемым к Амиге, которое производит прерывания случайным
образом&nbsp; либо постоянно. Например, моя сетевая карта (Hydra). Если
запущен стек TCP/IP, почти каждая установленная программа будет
"подвисать" на короткое время, потому что карта создаёт
прерывания&nbsp; (так же как прерывания, создаваемые клавиатурой), на
которые установленная программа не может правильно ответить. Это
происходит, потому что, как только прерывание было обработано rte,
происходит следующее прерывание. Чтобы избежать этой проблемы, стек
TCP/IP должен быть остановлен <a href="opt.html#ExecuteStartup">перед
стартом</a> WHDLoad.<br>
К этой же категории относится и падение стеков USB (используйте
"AddUSBHardware REMOVE ALL" для Poseidon) и прерывания Voodoo плат
Mediator (следует установить "VoodooInt = No"). Начиная с версии
WHDLoad&nbsp; 16.8 он создаёт рабочую область для прерываний Медиатора,
и здесь не требуется каких-либо специальных настроек.<br>
Такие же прерывания происходят при использовании программного обеспечения Picasso96 версии 1.36 или выше, а также графического адаптера
Spectrum. Воизбежание этого, программное обеспечение Picasso96 требуется откатить до более ранней версии чем 1.36, либо следует отключить двайвер графического адаптера.
  </li>
<li>Если у вас возникают ошибки при чтении/записи файлов, проверьте, правильно ли настроены жесткие диски.
WHDLoad считывает данные большими массивами (>1MB), что при неправильной конфигурации с большей долей вероятности вызовет сбои в работе.
При этом, другие приложения могут работать без сбоев, несмотря на неисправность.
В случае подобных неисправностей, убедитесь что для всех партиций в
HDToolBox корректно выставлены значения MaxTransfer и Mask.
Безопасным значением (для проблемного аппаратного обеспечения) являются 
MaxTransfer = 0x07FEC и Mask = 0x07FFFFC.
Это в первую очередь относится к PCMCIA-картам и адаптерам IDE-CF-card.<br>
Другой причиной данной проблемы может являться некорректное выделение памяти.
Существуют конфигурации, имеющие проблемы с Обратным выделением памяти.
В таком случае, можно через параметр <ahref="opt.html#NoMemReverse">NoMemReverse/S</a> принудительно заставить WHDLoad не использовать режим Обратного выделения памяти.</li>
  <li>Если Вы используете Picasso96 Вы должны удостовериться что опция
FakeNativeModes установлена в NO (смотрите в свойствах драйвера
монитора).
Иначе будут графические ошибки и возможно сбой системы.
  </li>
  <li>Существуют некоторые редкие аппаратные конфигурации, которые не
поддерживают MMU функции WHDload. Единственная конфигурация системы,
которая подвержена этой проблеме, это базирующаяся на <strong>68030</strong>.
На таких конфигурациях опция <a href="opt.html#MMU">MMU/S</a> <em><strong>не</strong>
должна активизироваться</em>! Если опция все же будет установлена, то
WHDLoad просто наглухо "подвесит" всю систему. В настоящее время
проблемы создают системные конфигурации с акселераторами "Appolo А630
", "Appolo 1230", "Elbox 1230" и "Magnum MK2".</li>
  <li>Существует проблема с раширителями оперативной памяти через слот
PCMCIA на
A1200. WHDLoad может выдать ошибку типа <tt>Dos error #235 (executable
not
valid) on loading "xxx.slave"</tt>. Причиной этого может являться то,
что память
некорректно добавляется к памяти системы, т.к. WHDLoad пытается
выделить память
используя флаг MEMF_REVERSE и получает неправильный код возврата
(указатель на
несуществующую область памяти). Пока точно неизвестно происходит ли это
только
со специфическими картами или же только на каких-то определенных
конфигурациях
компьютеров.
  </li>
</ul>
<h4>Несколько слов разработчикам</h4>
<ul>
  <li>Операция переключения между системой (OS) и установленной
программой не очень надежна. Проблема состоит в том, что б<em><strong>о</strong></em>льшая
часть специализированных регистров и некоторых регистров Cia не могут
быть прочитаны и, следовательно, не могут быть ни сохранены, ни
восстановлены. Сам WHDLoad не изменяет этих регистров, но когда он
производит переключение с установленной программы на OS (например,
чтобы загрузить файл с диска), OS может изменить некоторые из этих не
восстанавливаемых регистров. Если установленная программа зависит от
всех регистров, которые должны оставаться неизменными, то это создаст
проблемы. Известно, что OS изменяет, по крайней мере <strong>cop2lc</strong>,
    <strong>bltafwm</strong> и <strong>bltalwm</strong>, и возможно,
что и еще какие-то регистры. Чтобы решить эту проблему, существует
возможность восстанавливать регистры, измененные во время операций
переключения. За дополнительной информацией обращайтесь к разделу <a
 href="../autodoc.html#WHDLTAG_CBSWITCH_SET">WHDLTAG_CBSWITCH_SET</a>.</li>
</ul>
</body>
</html>
